"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[6565],{6565:(k,y,i)=>{i.r(y),i.d(y,{Ac0015Module:()=>de});var c=i(69808),v=i(99291),A=i(15861),T=i(57553),C=i(14525),Z=i(63900),x=i(68306),_=i(59783),p=i(93075),m=i(1694),u=i(1666),e=i(87587),N=i(56435),M=i(51062),w=i(45682),D=i(1955),J=i(45330),L=i(63710),$=i(23099),q=i(40845),O=i(4119),S=i(86561),F=i(17773),I=i(19114);const U=["dialog"];function Y(o,a){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",a.$implicit.width)}function Q(o,a){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,Y,1,2,"col",32),e.qZA(),e.TgZ(2,"colgroup",33),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function B(o,a){if(1&o&&(e.TgZ(0,"th",36),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function H(o,a){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,B,2,1,"th",34),e.TgZ(2,"th",35),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function P(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,l=e.oxw().$implicit;e.xp6(1),e.Oqu(l[t.field])}}const E=function(o){return[o]};function j(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"label",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.oxw().switchOri(n)}),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",44),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.t?"":e.lcZ(2,3,"show_more")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(7,E,t.t?"fa-angle-double-left  mt-1 mr-1":"fa-angle-double-right mt-1 ")),e.xp6(1),e.hij(" ",t.t?e.lcZ(5,5,"show_less"):""," ")}}function V(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,j,6,9,"label",42),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.msgTruncated&&t.t?t.oriRoleRoleMappingInfo:t.roleRoleMappingInfo," "),e.xp6(1),e.Q6J("ngIf",t.msgTruncated)}}function G(o,a){if(1&o&&(e.TgZ(0,"td"),e.YNc(1,P,2,1,"span",41),e.YNc(2,V,3,2,"span",41),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","roleAlias"==t.field),e.xp6(1),e.Q6J("ngIf","roleRoleMappingInfo"==t.field)}}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,G,3,2,"td",37),e.TgZ(2,"td",38)(3,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().changePage("update",s)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return r.showDialog(s,r.formOperate.delete)}),e.ALo(6,"translate"),e.qZA()()()}if(2&o){const t=a.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,3,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,5,"button.delete"))}}function W(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",45)(2,"span",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreData()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",48),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,l=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",l.rowcount,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function K(o,a){if(1&o&&e.YNc(0,W,9,8,"tr",41),2&o){const t=e.oxw();e.Q6J("ngIf",t.rowcount)}}function X(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",49),e._UZ(1,"input",50),e.ALo(2,"translate"),e.TgZ(3,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().queryRoleList("role")}),e.qZA()()}2&o&&(e.xp6(1),e.s9C("placeholder",e.lcZ(2,1,"login_role")))}function te(o,a){if(1&o&&(e.TgZ(0,"label",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.roleAlias.value)}}function oe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"li",56)(1,"span",57),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).deleteRole(s)}),e.qZA(),e.TgZ(2,"span",58),e._uU(3),e.qZA()()}if(2&o){const t=a.$implicit;e.xp6(3),e.hij(" ",t," ")}}function ne(o,a){if(1&o&&(e.TgZ(0,"div",53)(1,"ul",54),e.YNc(2,oe,4,1,"li",55),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.roleAliasMapping.value)}}const le=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function ie(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",59)(1,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(47).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(47).reject()}),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,le)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const ae=function(){return{"word-break":"break-word"}},se=function(){return{marginTop:"60px"}},re=function(){return{width:"50vw"}};let ce=(()=>{class o extends C.H{constructor(t,l,n,s,r,g,d,h,b){super(t,l),this.translate=n,this.tool=s,this.message=r,this.fb=g,this.roleService=d,this.dialogService=h,this.confirmationService=b,this.cols=[],this.dialogTitle="",this.formOperate=T.mi,this.roleRoleMappingList=new Array,this.rowcount=0,this.pageNum=1,this.currentTitle=this.title,this.currentAction="query",this.btnName="",this.currentRoleName="",this.form=this.fb.group({keyword:new p.NI(""),roleName:new p.NI("",m.np()),roleAlias:new p.NI({value:"",disabled:!0}),roleAliasMapping:new p.NI([]),roleNameMapping:new p.NI([],m.np())})}ngOnInit(){var t=this;return(0,A.Z)(function*(){const n=yield t.tool.getDict(["login_role","role_alias_mapping"]);t.cols=[{field:"roleAlias",header:n.login_role},{field:"roleRoleMappingInfo",header:n.role_alias_mapping}],t.roleRoleMappingList=[],t.rowcount=t.roleRoleMappingList.length;let s={keyword:t.form.get("keyword").value};t.roleService.queryTRoleRoleMap_ignore1298(s).subscribe(r=>{t.tool.checkDpSuccess(r.ResHeader)&&(t.roleRoleMappingList=r.RespBody.roleRoleMappingList,t.rowcount=t.roleRoleMappingList.length)})})()}submitForm(){this.roleRoleMappingList=[],this.rowcount=this.roleRoleMappingList.length;let t={keyword:this.form.get("keyword").value};this.roleService.queryTRoleRoleMap(t).subscribe(l=>{this.tool.checkDpSuccess(l.ResHeader)&&(this.roleRoleMappingList=l.RespBody.roleRoleMappingList,this.rowcount=this.roleRoleMappingList.length)})}moreData(){let t={roleId:this.roleRoleMappingList[this.roleRoleMappingList.length-1].roleId,keyword:this.form.get("keyword").value};this.roleService.queryTRoleRoleMap(t).subscribe(l=>{this.tool.checkDpSuccess(l.ResHeader)&&(this.roleRoleMappingList=this.roleRoleMappingList.concat(l.RespBody.roleRoleMappingList),this.rowcount=this.roleRoleMappingList.length)})}showDialog(t,l){this.translate.get(["cfm_del","dialog.update","message.success","message.update","message.role_role_mapping","cfm_del_role_role_mapping"]).pipe((0,Z.w)(s=>this.openDialog$(t,l,s))).subscribe()}openDialog$(t,l,n){return x.y.create(s=>{l===T.mi.delete&&(this.message.clear(),this.deleteData=t,this.confirmationService.confirm({header:" ",message:n.cfm_del_role_role_mapping,accept:()=>{this.onConfirm()}}))})}createOrUpdate(){var t=this;return(0,A.Z)(function*(){const n=yield t.tool.getDict(["message.create","message.update","message.success","message.role_role_mapping"]);switch(t.currentAction){case"create":t.roleService.addTRoleRoleMap({roleName:t.roleName.value,roleNameMapping:t.roleNameMapping.value}).subscribe(g=>{t.tool.checkDpSuccess(g.ResHeader)&&(t.message.add({severity:"success",summary:`${n["message.create"]} ${n["message.role_role_mapping"]}`,detail:`${n["message.create"]} ${n["message.success"]}!`}),t.submitForm(),t.changePage("query"))});break;case"update":t.roleService.updateTRoleRoleMap({roleName:t.roleName.value,roleNameMapping:t.roleNameMapping.value}).subscribe(g=>{t.tool.checkDpSuccess(g.ResHeader)&&(t.message.add({severity:"success",summary:`${n["message.update"]} ${n["message.role_role_mapping"]}`,detail:`${n["message.update"]} ${n["message.success"]}!`}),t.submitForm(),t.changePage("query"))})}})()}deleteRole(t){this.roleAliasMapping.value.splice(t,1),this.roleNameMapping.value.splice(t,1)}onConfirm(){var t=this;this.message.clear();let l=[];this.deleteData.roleRoleMapping.map(s=>{l.push(s.roleName)}),this.roleService.deleteTRoleRoleMap({roleName:this.deleteData.roleName}).subscribe(function(){var s=(0,A.Z)(function*(r){if(t.tool.checkDpSuccess(r.ResHeader)){const g=["message.delete","message.role_role_mapping","message.success"],d=yield t.tool.getDict(g);t.message.add({severity:"success",summary:`${d["message.delete"]} ${d["message.role_role_mapping"]}`,detail:`${d["message.delete"]} ${d["message.success"]}!`}),t.submitForm()}});return function(r){return s.apply(this,arguments)}}())}onReject(){this.message.clear()}changePage(t,l){var n=this;return(0,A.Z)(function*(){n.currentAction=t;const r=yield n.tool.getDict(["button.create","button.update"]);switch(n.resetFormValidator(n.form),t){case"query":n.pageNum=1,n.currentTitle=n.title;break;case"create":n.currentTitle=`${n.title} > ${r["button.create"]}`,n.pageNum=2,n.btnName=r["button.create"],n.roleName.setValue(""),n.roleAlias.setValue(""),n.roleNameMapping.setValue([]),n.roleAliasMapping.setValue([]);break;case"update":n.currentRoleName=l.roleName,n.roleService.queryTRoleRoleMapDetail({roleName:n.currentRoleName}).subscribe(d=>{if(n.tool.checkDpSuccess(d.ResHeader)){n.currentTitle=`${n.title} > ${r["button.update"]}`,n.pageNum=2,n.btnName=r["button.update"],n.roleName.setValue(d.RespBody.roleName),n.roleAlias.setValue(d.RespBody.roleAlias);let h=[],b=[];d.RespBody.roleMappingInfo.map(f=>{h.push(f.roleName),b.push(f.roleAliasRoleName)}),n.roleNameMapping.setValue(h),n.roleAliasMapping.setValue(b)}})}})()}queryRoleList(t){this.translate.get(["role_list"]).subscribe(n=>{this.dialogTitle=n.role_list;let s={};switch(t){case"role":s={selectionMode:"single",roleName:"create"==this.currentAction?"":this.currentRoleName};break;case"mappingRole":s={selectionMode:"multiple",roleName:"create"==this.currentAction?"":this.currentRoleName}}this.dialogService.open(u.j,{data:s,header:n.role_list,width:"700px"}).onClose.subscribe(g=>{if(g)switch(t){case"role":this.roleAlias.setValue(g.roleAlias),this.roleName.setValue(g.roleName);break;case"mappingRole":let d=new Set,h=[],b=[];this.roleNameMapping.value.map(f=>{d.add(f),b.push(f)}),this.roleAliasMapping.value.map(f=>{h.push(f)}),g.map(f=>{d.has(f.roleName)||(h.push(f.roleAlias),b.push(f.roleName))}),this.roleAliasMapping.setValue(h),this.roleNameMapping.setValue(b)}})})}copyInfoMsg(t){var l=this;return(0,A.Z)(function*(){const s=yield l.tool.getDict(["copy","data","message.success"]);let r=document.createElement("textarea");r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0",r.value=t,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r),l.message.add({severity:"success",summary:`${s.copy} ${s.data}`,detail:`${s.copy} ${s["message.success"]}`})})()}switchOri(t){t.t=!t.t||!t.t}get keyword(){return this.form.get("keyword")}get roleName(){return this.form.get("roleName")}get roleAlias(){return this.form.get("roleAlias")}get roleAliasMapping(){return this.form.get("roleAliasMapping")}get roleNameMapping(){return this.form.get("roleNameMapping")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.gz),e.Y36(N.W),e.Y36(M.sK),e.Y36(w.g),e.Y36(_.ez),e.Y36(p.qu),e.Y36(D.N),e.Y36(J.xA),e.Y36(_.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ac0015"]],viewQuery:function(t,l){if(1&t&&e.Gf(U,5),2&t){let n;e.iGM(n=e.CRH())&&(l._dialog=n.first)}},features:[e._Bn([_.ez,_.YP]),e.qOj],decls:49,vars:38,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-12"],[1,"p-input-icon-right",2,"width","40vw"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","text","id","keyword","formControlName","keyword",1,"form-control","tpi-i-input",3,"placeholder"],["type","button",1,"btn","tpi-btn","tpi-second","float-right",3,"click"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[3,"formGroup"],[1,"col-6"],["for","roleAlias",1,"control-label"],["class","ui-inputgroup",4,"ngIf"],["class","form-control border-line",4,"ngIf"],["for","roleAliasMapping",1,"required","control-label"],["pButton","","type","button","icon","pi pi-search",1,"tpi-night","ml-2","mb-1",3,"click"],[1,"form-control","border-line",2,"height","unset"],["class","ui-chips ui-widget",4,"ngIf"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-second","float-left","mr-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-left",3,"click"],[3,"title"],["dialog",""],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],[3,"width",4,"ngFor","ngForOf"],[2,"width","140px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","140px"],["scope","col"],[4,"ngFor","ngForOf"],[2,"width","140px","text-align","center"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],["class","moreless",3,"click",4,"ngIf"],[1,"moreless",3,"click"],[1,"fas",3,"ngClass"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"ui-inputgroup"],["type","text","formControlName","roleAlias",1,"form-control",3,"placeholder"],["pButton","","type","button","icon","pi pi-search",1,"ml-1","tpi-night",3,"click"],[1,"form-control","border-line"],[1,"ui-chips","ui-widget"],[1,"ui-inputtext","ui-state-default","ui-corner-all"],["class","ui-chips-token ui-state-highlight ui-corner-all","style","margin: 0 0.286em 0.3em 0;",4,"ngFor","ngForOf"],[1,"ui-chips-token","ui-state-highlight","ui-corner-all",2,"margin","0 0.286em 0.3em 0"],[1,"ui-chips-token-icon","pi","pi-fw","pi-times",3,"click"],[1,"ui-chips-token-label"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,l){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return l.changePage("query")}),e.TgZ(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return l.submitForm()}),e.TgZ(3,"div",3)(4,"div",4)(5,"span",5)(6,"i",6),e.NdJ("click",function(){return l.submitForm()}),e.qZA(),e._UZ(7,"input",7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return l.changePage("create")}),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"p-table",9),e.YNc(14,Q,5,4,"ng-template",10),e.YNc(15,H,5,4,"ng-template",11),e.YNc(16,z,7,7,"ng-template",12),e.YNc(17,K,1,1,"ng-template",13),e.YNc(18,X,4,4,"ng-template",14),e.qZA()(),e.TgZ(19,"div",1)(20,"form",15)(21,"div",3)(22,"div",16)(23,"label",17),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.YNc(26,ee,4,3,"div",18),e.YNc(27,te,2,1,"label",19),e.qZA()(),e.TgZ(28,"div",3)(29,"div",4)(30,"label",20),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",21),e.NdJ("click",function(){return l.queryRoleList("mappingRole")}),e.qZA(),e.TgZ(34,"label",22),e.YNc(35,ne,3,1,"div",23),e.qZA()()(),e.TgZ(36,"div",3)(37,"div",24)(38,"button",25),e.NdJ("click",function(){return l.createOrUpdate()}),e._uU(39),e.qZA(),e.TgZ(40,"button",26),e.NdJ("click",function(){return l.changePage("query")}),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()()(),e._UZ(43,"app-dialog",27,28)(45,"p-toast",29),e.TgZ(46,"p-confirmDialog",30,31),e.YNc(48,ie,5,8,"ng-template",13),e.qZA()),2&t&&(e.Q6J("title",l.currentTitle)("isDefault",1==l.pageNum),e.xp6(1),e.Q6J("hidden",1!=l.pageNum),e.xp6(1),e.Q6J("formGroup",l.form),e.xp6(5),e.s9C("placeholder",e.lcZ(8,25,"login_role")),e.xp6(3),e.Oqu(e.lcZ(11,27,"button.create")),e.xp6(3),e.Akn(e.DdM(35,ae)),e.Q6J("columns",l.cols)("value",l.roleRoleMappingList),e.xp6(6),e.Q6J("hidden",2!=l.pageNum),e.xp6(1),e.Q6J("formGroup",l.form),e.xp6(4),e.Oqu(e.lcZ(25,29,"login_role")),e.xp6(2),e.Q6J("ngIf","create"==l.currentAction),e.xp6(1),e.Q6J("ngIf","update"==l.currentAction),e.xp6(4),e.Oqu(e.lcZ(32,31,"role_alias_mapping")),e.xp6(4),e.Q6J("ngIf",l.roleAliasMapping.value.length>0),e.xp6(3),e.Q6J("disabled",l.form.invalid||0==l.roleNameMapping.value.length),e.xp6(1),e.Oqu(l.btnName),e.xp6(2),e.Oqu(e.lcZ(42,33,"button.return_to_list")),e.xp6(2),e.Q6J("title",l.dialogTitle),e.xp6(2),e.Akn(e.DdM(36,se)),e.xp6(1),e.Akn(e.DdM(37,re)))},directives:[L.e,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,$.iA,_.jx,c.sg,c.O5,c.mk,q.Hq,O.u,S.a,F.FN,I.Q,c.PC],pipes:[M.X$],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}"]}),o})();var R=i(86347);const pe=[{path:"",component:ce,canActivate:[R.u6]}];let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[v.Bz.forChild(pe)],v.Bz]}),o})();var me=i(88893),ge=i(24783);let de=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[R.u6],imports:[[c.ez,ue,me.W,ge.m,p.UX,p.u5]]}),o})()},86561:(k,y,i)=>{i.d(y,{a:()=>x});var c=i(87587),v=i(3937),A=i(15315);const T=["content"];function C(_,p){}const Z=function(){return{height:"70vh"}};let x=(()=>{class _{constructor(m){this.ngxService=m,this.visible=!1,this.title="",this.closable=!0,this.width=300}open(m,u){this.contentRef.clear(),this.componentRef=this.contentRef.createComponent(m),this.componentRef.instance.data=u,this.componentRef.instance.close=this.onHide.bind(this),this.visible=!0}onHide(m){let u=this.componentRef.instance.data;this.componentRef.destroy(),this.visible=!1,m?m.subscribe(e=>{u&&u.afterCloseCallback&&u.afterCloseCallback(e),this.ngxService.stop()}):u&&u.afterCloseCallback&&(u.afterCloseCallback(),this.ngxService.stop())}setWidth(){return this.width+"px"}}return _.\u0275fac=function(m){return new(m||_)(c.Y36(v.LA))},_.\u0275cmp=c.Xpm({type:_,selectors:[["app-dialog"]],viewQuery:function(m,u){if(1&m&&c.Gf(T,7,c.s_b),2&m){let e;c.iGM(e=c.CRH())&&(u.contentRef=e.first)}},inputs:{visible:"visible",title:"title",closable:"closable",contentStyle:"contentStyle",width:"width"},decls:3,vars:10,consts:[["modal","true",3,"contentStyle","dismissableMask","header","visible","maximizable","draggable","closable","visibleChange","onHide"],["content",""]],template:function(m,u){1&m&&(c.TgZ(0,"p-dialog",0),c.NdJ("visibleChange",function(N){return u.visible=N})("onHide",function(){return u.onHide()}),c.YNc(1,C,0,0,"ng-template",null,1,c.W1O),c.qZA()),2&m&&(c.Akn(c.DdM(9,Z)),c.Q6J("contentStyle",u.contentStyle)("dismissableMask",!0)("header",u.title)("visible",u.visible)("maximizable",!1)("draggable",!1)("closable",u.closable))},directives:[A.V],styles:[""]}),_})()}}]);